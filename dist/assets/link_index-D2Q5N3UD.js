console.log("JavaScript works.......");var i=document.getElementById("login-modal"),a=document.getElementById("register-form"),s=document.getElementById("login-link"),d=document.getElementById("close-modal"),c=document.getElementById("close-register-modal"),u=document.getElementById("login-button"),m=document.getElementById("sign-up-link");document.getElementById("logout-button");var r=document.getElementById("already-have-account-link");s.addEventListener("click",function(e){e.preventDefault(),this.classList.contains("loginSucces")?window.location.href="logout.php":i.style.display="block"});m.addEventListener("click",function(e){e.preventDefault(),i.style.display="none",a.style.display="block"});d.addEventListener("click",function(){i.style.display="none"});c.addEventListener("click",function(){a.style.display="none"});window.addEventListener("click",function(e){e.target===i?i.style.display="none":e.target===a&&(a.style.display="none")});u.addEventListener("click",function(e){e.preventDefault();var o=document.getElementById("inputmail").value,l=document.getElementById("inputpass").value;if(!o||!l){alert("Please fill in both email and password.");return}fetch("index.php?action=login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"same-origin",body:`inputmail=${encodeURIComponent(o)}&inputpass=${encodeURIComponent(l)}`}).then(t=>{if(!t.ok)throw new Error("Network response was not ok");return t.text()}).then(t=>{t==="logged_in"?(i.style.display="none",s.classList.remove("login"),s.classList.add("loginSucces"),s.innerText="Logout",window.location.reload()):alert("Login failed. Please check your credentials.")}).catch(t=>{console.error("Login failed:",t),alert("Login failed. Please try again.")})});document.getElementById("register-form").addEventListener("submit",function(e){e.preventDefault();var o=document.getElementById("inputmail-register").value,l=document.getElementById("inputpass-register").value,t=document.getElementById("inputpass-confirm").value;if(!o||!l||!t){alert("Please fill in all fields.");return}if(l!==t){alert("Passwords do not match.");return}fetch("index.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"same-origin",body:`inputmail=${encodeURIComponent(o)}&inputpass=${encodeURIComponent(l)}&action=register`}).then(n=>{if(!n.ok)throw new Error("Network response was not ok");return n.text()}).then(n=>{n==="registered"?(console.log("Registered successfully"),a.style.display="none",i.style.display="block"):alert("Registration failed. Please try again.")}).catch(n=>{console.error("Registration failed:",n),alert("Registration failed. Please try again.")})});r.addEventListener("click",function(e){e.preventDefault(),a.style.display="none",i.style.display="block"});document.getElementById("register-form").addEventListener("submit",function(e){e.preventDefault();var o=document.getElementById("inputmail-register").value,l=document.getElementById("inputpass-register").value,t=document.getElementById("inputpass-confirm").value;if(!o||!l||!t){alert("Please fill in all fields.");return}if(l!==t){alert("Passwords do not match.");return}fetch("index.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`inputmail=${encodeURIComponent(o)}&inputpass=${encodeURIComponent(l)}&action=register`}).then(n=>n.text()).then(n=>{n==="registered"?(console.log("Registered successfully"),a.style.display="none",i.style.display="block"):alert("Registration failed. Please try again.")}).catch(n=>console.error("Registration failed:",n))});r.addEventListener("click",function(e){e.preventDefault(),a.style.display="none",i.style.display="block"});
